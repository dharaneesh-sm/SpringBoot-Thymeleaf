# ==========================================
# Spring Boot Configuration Properties
# Video Meeting Application
# ==========================================

# ==========================================
# SERVER CONFIGURATION
# ==========================================
server.port=8080
server.servlet.context-path=/
server.address=0.0.0.0


# Session configuration
server.servlet.session.timeout=30m
server.servlet.session.cookie.max-age=1800

# ==========================================
# APPLICATION CONFIGURATION
# ==========================================
spring.application.name=Go Connect

# ==========================================
# DATABASE CONFIGURATION (H2 for Development)
# ==========================================
spring.datasource.url=jdbc:h2:mem:meetingdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5

# H2 Console Configuration (Development Only)
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.h2.console.settings.web-allow-others=true

# ==========================================
# JPA/HIBERNATE CONFIGURATION
# ==========================================
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true

# ==========================================
# THYMELEAF CONFIGURATION
# ==========================================
spring.thymeleaf.cache=false
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.mode=HTML
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.servlet.content-type=text/html
spring.thymeleaf.enable-spring-el-compiler=true

# ==========================================
# WEB CONFIGURATION
# ==========================================
spring.web.resources.cache.period=0
spring.web.resources.static-locations=classpath:/static/
spring.web.resources.add-mappings=true

# Multipart file upload configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# ==========================================
# WEBSOCKET CONFIGURATION
# ==========================================
# WebSocket message size limits
spring.websocket.servlet.allowed-origins=*
server.tomcat.max-connections=8192
server.tomcat.threads.max=200
server.tomcat.threads.min-spare=10

# ==========================================
# SECURITY CONFIGURATION
# ==========================================
# Disable default security auto-configuration for development
spring.security.user.name=admin
spring.security.user.password=admin
spring.security.user.roles=ADMIN

# ==========================================
# LOGGING CONFIGURATION
# ==========================================
logging.level.com.videomeeting=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.springframework.security=INFO
logging.level.org.springframework.messaging=INFO
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN
logging.level.org.springframework.web.socket=DEBUG

# Logging pattern
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Log file configuration
logging.file.name=logs/meeting-app.log
logging.file.max-size=10MB
logging.file.max-history=30
logging.logback.rollingpolicy.clean-history-on-start=true

# ==========================================
# CUSTOM APPLICATION PROPERTIES
# ==========================================

# Meeting Configuration
#meeting.max-participants=50
#meeting.code-length=8
#meeting.cleanup-after-hours=24
#meeting.auto-cleanup-enabled=true

# Feature toggles
meeting.features.screen-sharing=true
meeting.features.chat=true
meeting.features.recording=false
meeting.features.breakout-rooms=false

# Security settings
meeting.security.require-password=false
meeting.security.max-meeting-duration-hours=8
meeting.security.session-timeout-minutes=30

# Performance settings
meeting.performance.max-concurrent-meetings=100
meeting.performance.connection-timeout-seconds=30
meeting.performance.heartbeat-interval-seconds=25

# ==========================================
# CORS CONFIGURATION
# ==========================================
cors.allowed-origins=http://localhost:3000,http://localhost:8080,http://127.0.0.1:8080
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=*
cors.allow-credentials=true
cors.max-age=3600

# ==========================================
# ACTUATOR CONFIGURATION (Optional)
# ==========================================
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when_authorized
management.info.env.enabled=true

# Custom info
info.app.name=Video Meeting Application
info.app.description=A Google Meet-like video conferencing application
info.app.version=1.0.0
info.app.encoding=@project.build.sourceEncoding@
info.app.java.version=@java.version@

# ==========================================
# DEVELOPMENT PROFILE OVERRIDES
# ==========================================
# These settings are active by default for development

# Enable dev tools
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true
spring.devtools.add-properties=true

# ==========================================
# PRODUCTION PROFILE
# ==========================================
# Production settings (activate with --spring.profiles.active=production)

## Production Database (PostgreSQL)
#spring.datasource.url=jdbc:postgresql://localhost:5432/GoConnect
#spring.datasource.username=postgres
#spring.datasource.password=Hseenarahd
#spring.datasource.driver-class-name=org.postgresql.Driver

# Production JPA settings
#spring.jpa.hibernate.ddl-auto=validate
#spring.jpa.show-sql=false

# Disable H2 console in production
#spring.h2.console.enabled=false

# Enable Thymeleaf cache in production
#spring.thymeleaf.cache=true

# Enable static resource cache
#spring.web.resources.cache.period=86400

# Production logging
#logging.level.com.videomeeting=INFO
#logging.level.org.springframework=WARN
#logging.level.org.hibernate.SQL=WARN

# Production security
#meeting.security.require-password=true
#cors.allowed-origins=https://yourdomain.com

# ==========================================
# TEST PROFILE
# ==========================================
# Test settings (activate with --spring.profiles.active=test)

# Test database
#spring.datasource.url=jdbc:h2:mem:testdb
#spring.jpa.hibernate.ddl-auto=create-drop

# Disable external connections in tests
#spring.h2.console.enabled=false
#management.endpoints.web.exposure.include=health

# ==========================================
# SSL CONFIGURATION (Optional - for HTTPS)
# ==========================================
# Uncomment and configure for HTTPS support

# server.ssl.enabled=true
# server.ssl.key-store=classpath:keystore.p12
# server.ssl.key-store-password=password
# server.ssl.key-store-type=PKCS12
# server.ssl.key-alias=meeting-app
# server.port=8443

# Force redirect HTTP to HTTPS
# server.ssl.client-auth=need
# security.require-ssl=true

# ==========================================
# EMAIL CONFIGURATION (Optional)
# ==========================================
# For sending meeting invitations

# spring.mail.host=smtp.gmail.com
# spring.mail.port=587
# spring.mail.username=your-email@gmail.com
# spring.mail.password=your-app-password
# spring.mail.properties.mail.smtp.auth=true
# spring.mail.properties.mail.smtp.starttls.enable=true

# ==========================================
# REDIS CONFIGURATION (Optional)
# ==========================================
# For session management in production

# spring.redis.host=localhost
# spring.redis.port=6379
# spring.redis.password=
# spring.redis.timeout=2000ms
# spring.redis.jedis.pool.max-active=8
# spring.redis.jedis.pool.max-wait=-1ms
# spring.redis.jedis.pool.max-idle=8
# spring.redis.jedis.pool.min-idle=0

# ==========================================
# DOCKER CONFIGURATION
# ==========================================
# For containerized deployment

# server.address=0.0.0.0
# spring.datasource.url=jdbc:postgresql://postgres:5432/meetingdb
# logging.file.name=/app/logs/meeting-app.log